{% extends 'base.html' %}

{% block content %}
<h2>Example Page - Demo Passwords</h2>

<div class="table-container">
  <table class="table">
    <thead>
      <tr>
        <th>Site</th>
        <th>Username</th>
        <th>Password</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for entry, password in data %}
      <tr data-entry-id="{{ entry.id }}">
        <td><strong>{{ entry.site }}</strong></td>
        <td>{{ entry.username }}</td>
        <td>
          <div class="password-input-wrapper">
            <input type="password" class="form-control password-field" value="{{ password }}" readonly>
            <button type="button" class="btn-icon-inline toggle-password-btn" title="Show/Hide password">
              <svg class="icon-show" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <svg class="icon-hide" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                <line x1="1" y1="1" x2="23" y2="23"></line>
              </svg>
            </button>
            <button type="button" class="btn-icon-inline copy-btn" data-copy="{{ password }}" title="Copy password">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
              </svg>
            </button>
          </div>
        </td>
        <td>
          <a href="#" class="delete-btn action-link delete-link" data-entry-id="{{ entry.id }}" data-site="{{ entry.site }}" data-example>üóëÔ∏è Delete</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="text-center mt-4">
  <p class="form-text-description">This is example data to demonstrate the password manager. Deletions are temporary (session only).</p>
  <a href="{{ url_for('auth.register') }}" class="btn btn-primary">Create Your Account</a>
</div>

<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="modal">
  <div class="modal-content">
    <h3>Delete Password (Demo)</h3>
    <p id="deleteMessage">Are you sure you want to delete this password?</p>
    <p class="modal-subtext">This will only delete it for your current session.</p>
    <div class="modal-buttons">
      <button id="cancelDelete" class="btn btn-outline-secondary">Cancel</button>
      <button id="confirmDelete" class="btn btn-danger">Delete</button>
    </div>
  </div>
</div>

<!-- Toast Notification -->
<div id="toast" class="toast">
  ‚úì Copied to clipboard!
</div>

{% endblock %}